/*! For license information please see main.4c71490f.chunk.js.LICENSE.txt */
(this["webpackJsonpteablocks-rnd"]=this["webpackJsonpteablocks-rnd"]||[]).push([[0],{117:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(3),o=n(6),i=n(4),u=n(5),c=n(16),r=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(t,o){var i;return Object(a.a)(this,n),(i=e.call(this,t)).shapeName=void 0,i.shapeName=o,i}return Object(o.a)(n,[{key:"evalBlock",value:function(t){var e="$"+this.shapeName;if(t.has(e))return e;throw new c.a("Shape ".concat(this.shapeName," does not exist!"),this.id)}}]),n}(n(18).a)},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(20),o=n.n(a),i=n(3),u=n(6),c=n(4),r=n(5),s=n(16),l=n(22),p=n(67),d=function(t){Object(c.a)(n,t);var e=Object(r.a)(n);function n(t,a,o,u){var c;return Object(i.a)(this,n),(c=e.call(this,t)).shapeName=void 0,c.color=void 0,c.shapeType=void 0,c.posX=void 0,c.posY=void 0,c.scaleX=void 0,c.scaleY=void 0,c.rot=void 0,c.shapeType=a,c.color=o,console.log(u),c.shapeName=u[0],c.posX=u[1],c.posY=u[2],c.scaleX=u[3],c.scaleY=u[4],c.rot=u[5],c}return Object(u.a)(n,[{key:"evalBlock",value:o.a.mark((function t(e){var n,a,i,u,c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=String(this.shapeName.evalBlock(e)),a=Number(this.posX.evalBlock(e)),i=Number(this.posY.evalBlock(e)),u=Number(this.scaleX.evalBlock(e)),c=Number(this.scaleY.evalBlock(e)),r=Number(this.rot.evalBlock(e)),console.log(n),console.log(a),console.log(i),console.log(u),console.log(c),console.log(r),!(isNaN(a)||isNaN(i)||isNaN(u)||isNaN(c)||isNaN(r))){t.next=14;break}throw new s.a("Shape input not a number",this.id);case 14:return e.set("$"+n,new p.a(n,this.shapeType,this.color,a,i,u,c,r)),void(t.next=17);case 17:case"end":return t.stop()}}),t,this)}))}]),n}(l.a)},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(3),o=function t(){Object(a.a)(this,t),this.isRoot=void 0,this.isRoot=!0}},120:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(3),o=n(26),i=function t(e,n,i,u,c,r,s){Object(a.a)(this,t),this.id=void 0,this.coordinates=void 0,this.content=void 0,this.outputs=void 0,this.data=void 0,this.render=void 0,this.blockType=void 0,this.constInputs=void 0,this.id=o.a.getID(),this.coordinates=n,this.content=e,this.data=r,this.render=s,this.blockType=u,this.constInputs=c,console.log("Inputs id: "+this.id),this.outputs=[];for(var l=0;l<i;l++){var p={id:this.id+"-output-"+l};this.outputs.push(p)}}},124:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(3),o=function t(e){Object(a.a)(this,t),this.id=void 0,this.id=e}},127:function(t,e,n){"use strict";var a=n(289);n.d(e,"ButtonStatusBlock",(function(){return a.a}));var o=n(290);n.d(e,"JoyXStatusBlock",(function(){return o.a}));var i=n(291);n.d(e,"JoyYStatusBlock",(function(){return i.a}));n(292)},13:function(t,e,n){"use strict";var a;n.d(e,"a",(function(){return a})),function(t){t[t.CLB=0]="CLB",t[t.CONST=1]="CONST",t[t.EQ=2]="EQ",t[t.GEQ=3]="GEQ",t[t.GT=4]="GT",t[t.LEQ=5]="LEQ",t[t.LT=6]="LT",t[t.AND=7]="AND",t[t.NOT=8]="NOT",t[t.OR=9]="OR",t[t.DIV=10]="DIV",t[t.SUM=11]="SUM",t[t.SUBTRACT=12]="SUBTRACT",t[t.EXP=13]="EXP",t[t.MOD=14]="MOD",t[t.PROD=15]="PROD",t[t.MAKE_SHAPE=16]="MAKE_SHAPE",t[t.MOVE_SHAPE=17]="MOVE_SHAPE",t[t.ROTATE_SHAPE=18]="ROTATE_SHAPE",t[t.SCALE_SHAPE=19]="SCALE_SHAPE",t[t.GET_SHAPE=20]="GET_SHAPE",t[t.FOR=21]="FOR",t[t.IF=22]="IF",t[t.WHILE=23]="WHILE",t[t.TERNARY=24]="TERNARY",t[t.VAR_ASSIGN=25]="VAR_ASSIGN",t[t.VAR_DELETE=26]="VAR_DELETE",t[t.VAR_RETRIEVE=27]="VAR_RETRIEVE",t[t.NEST=28]="NEST",t[t.JOY_X=29]="JOY_X",t[t.JOY_Y=30]="JOY_Y",t[t.BTN_STATUS=31]="BTN_STATUS",t[t.ARR_CREATE=32]="ARR_CREATE",t[t.ARR_SET_IX=33]="ARR_SET_IX",t[t.ARR_GET_IX=34]="ARR_GET_IX",t[t.MAKE_CONTROL_ELEM=35]="MAKE_CONTROL_ELEM",t[t.GET_X=36]="GET_X",t[t.GET_Y=37]="GET_Y"}(a||(a={}))},16:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(3),o=n(4),i=n(5),u=n(126),c=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t,o){var i;return Object(a.a)(this,n),(i=e.call(this,t)).id=void 0,i.id=o,i.name="TeaBlocksError",i}return n}(Object(u.a)(Error))},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(3),o=n(4),i=n(5),u=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return n}(n(124).a)},188:function(t,e,n){},22:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(3),o=n(6),i=n(4),u=n(5),c=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(t=e.call.apply(e,[this].concat(i))).voidBlock=!0,t}return Object(o.a)(n,[{key:"getLength",value:function(){return 1}}]),n}(n(124).a)},26:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a,o=n(2),i=n(3),u=n(6),c=n(39),r=n.n(c),s=n(27),l=(n(188),n(125)),p=n(0),d=n(17),h=[150,60],v=function(){function t(){Object(i.a)(this,t),this.nodes=void 0,this.links=void 0,this.nodes=[],this.links=[]}return Object(u.a)(t,[{key:"getNextCoordinates",value:function(){return null==this.nodes||0===this.nodes.length?h:[this.nodes[this.nodes.length-1].coordinates[0]+150,this.nodes[this.nodes.length-1].coordinates[1]]}}]),t}();!function(t){t.JOYSTICK="joy",t.BUTTON="btn"}(a||(a={}));var f=n(7),b=n(44),m=n(49),j=n(73),k=function(){function t(e){Object(i.a)(this,t),this.parentSchemaId=void 0,this.parentSchemaId=e}return Object(u.a)(t,[{key:"centralizeCoordinates",value:function(t){return[t[0]-100,t[1]-100]}},{key:"nextCoordinates",value:function(){var t;if(!g.getIDE().validatedSchemas.has(this.parentSchemaId))throw Error("Not initalized!");var e=null===(t=g.getIDE().validatedSchemas.get(this.parentSchemaId))||void 0===t?void 0:t.getNextCoordinates();return e||[0,0]}},{key:"makeFunction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextCoordinates();switch(e=this.centralizeCoordinates(e),t){case f.a.SUM:this.addFunctionNode("Adder",t,[],2,1,["In","In"],["Out"],e);break;case f.a.PROD:this.addFunctionNode("Multiply",t,[],2,1,["In","In"],["Out"],e);break;case f.a.SUBTRACT:this.addFunctionNode("Subtract",t,[],2,1,["In","In"],["Out"],e);break;case f.a.DIV:this.addFunctionNode("Divide",t,[],2,1,["In","In"],["Out"],e);break;case f.a.EQ:this.addFunctionNode("==",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.LT:this.addFunctionNode("<",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.GT:this.addFunctionNode(">",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.LEQ:this.addFunctionNode("<=",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.GEQ:this.addFunctionNode(">=",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.AND:this.addFunctionNode("AND",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.OR:this.addFunctionNode("OR",t,[],2,1,["Left","Right"],["Out"],e);break;case f.a.NOT:this.addFunctionNode("NOT",t,[],1,1,["in"],["Out"],e);break;case f.a.TERNARY:this.addFunctionNode("Ternary",t,[],3,1,["If","Then","Else"],["Out"],e);break;case f.a.MOD:this.addFunctionNode("Modulo %",t,[],2,1,["In","In"],["Out"],e);break;case f.a.EXP:this.addFunctionNode("Exponent",t,[],2,1,["In","In"],["Out"],e);break;case f.a.GET_X:this.addFunctionNode("Get X",t,[],1,1,["Shape"],["X"],e);break;case f.a.GET_Y:this.addFunctionNode("Get Y",t,[],1,1,["Shape"],["Y"],e);break;default:console.error("This type is not supported by makeFunction")}}},{key:"makeInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextCoordinates();switch(e=this.centralizeCoordinates(e),t){case f.a.CONST:var n=prompt("What is the value?","0");this.addInputNode("Constant: ".concat(n),t,[n],1,["Value"],e);break;case f.a.VAR_RETRIEVE:var a=prompt("What is the name of the variable?");this.addInputNode("Get ".concat(a),t,[a],1,["Value"],e);break;case f.a.GET_SHAPE:var o=prompt("What shape name?");this.addInputNode("Get ".concat(o),t,[o],1,["Shape"],e);break;case f.a.JOY_X:var i=prompt("What joystick name?","joystick");this.addInputNode("Get ".concat(i," X"),t,[i],1,["X"],e);break;case f.a.JOY_Y:var u=prompt("What joystick name?","joystick");this.addInputNode("Get ".concat(u," Y"),t,[u],1,["Y"],e);break;case f.a.ARR_GET_IX:var c=prompt("What is the array name");this.addInputNode("Get ".concat(c),t,[c],1,["Value"],e);break;default:return void console.error("This type is not supported by makeInput")}}},{key:"makeOutput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextCoordinates();switch(e=this.centralizeCoordinates(e),t){case f.a.CLB:this.addOutputNode("Console",t,[],1,["Value"],e);break;case f.a.VAR_ASSIGN:var n=prompt("Pick a variable name");this.addOutputNode("Assign ".concat(n),t,[n],1,["Value"],e);break;case f.a.VAR_DELETE:var o=prompt("Pick a variable name to delete");this.addOutputNode("Delete ".concat(o),t,[o],0,[],e);break;case f.a.MAKE_SHAPE:var i=prompt("Pick a type!",m.g.RECT),u=prompt("Pick a color (rgb value)",m.f.BLUE);this.addOutputNode("Make ".concat(i),t,[i,u],6,["Name","X","Y","Stretch-X","Stretch-Y","Rotation"],e);break;case f.a.ROTATE_SHAPE:this.addOutputNode("Rotate",t,[],2,["Shape","Rotation"],e);break;case f.a.MOVE_SHAPE:this.addOutputNode("Move",t,[],3,["Shape","X","Y"],e);break;case f.a.SCALE_SHAPE:this.addOutputNode("Stretch",t,[],3,["Shape","X","Y"],e);break;case f.a.ARR_CREATE:var c=prompt("What is the name of array?");this.addOutputNode("Create ".concat(c),t,[c],0,[],e);break;case f.a.ARR_SET_IX:var r=prompt("What is the name of array?");this.addOutputNode("Set ".concat(r),t,[r],2,["Index","Value"],e);break;case f.a.MAKE_CONTROL_ELEM:var s=prompt("Pick element type",a.JOYSTICK),l=prompt("Pick element name","joystick");this.addOutputNode("Make ".concat(l),t,[s,l],2,["X","Y"],e);break;default:return void console.error("This node is not supported by makeOutput")}}},{key:"makeSpecial",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextCoordinates();switch(a=this.centralizeCoordinates(a),t){case f.a.IF:var o=new j.IfNode("IF",a,[],{parentSchema:this.parentSchemaId,inputNames:["Condition"],problematic:!1},b.IfRender);null===(e=g.getIDE().schemaMethods.get(this.parentSchemaId))||void 0===e||e.addNode(o);break;case f.a.WHILE:var i=new j.WhileNode("WHILE",a,[],{parentSchema:this.parentSchemaId,inputNames:["Condition"],problematic:!1},b.WhileRender);null===(n=g.getIDE().schemaMethods.get(this.parentSchemaId))||void 0===n||n.addNode(i);break;default:return void console.error("This node is not supported by makeSpecial")}}},{key:"addInputNode",value:function(t,e,n,a){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5?arguments[5]:void 0,c=new j.InputNode(t,u,a,e,n,{parentSchema:this.parentSchemaId,outputNames:i,problematic:!1},b.CustomRender);null===(o=g.getIDE().schemaMethods.get(this.parentSchemaId))||void 0===o||o.addNode(c)}},{key:"addOutputNode",value:function(t,e,n,a,o,i){var u,c=new j.OutputNode(t,i,a,e,n,{parentSchema:this.parentSchemaId,inputNames:o,problematic:!1},b.CustomRender);null===(u=g.getIDE().schemaMethods.get(this.parentSchemaId))||void 0===u||u.addNode(c)}},{key:"addFunctionNode",value:function(t,e,n,a,o,i,u,c){var r,s=new j.FunctionNode(t,c,a,o,e,n,{parentSchema:this.parentSchemaId,inputNames:i,outputNames:u,problematic:!1},b.CustomRender);null===(r=g.getIDE().schemaMethods.get(this.parentSchemaId))||void 0===r||r.addNode(s)}}]),t}();function O(t){return Object(o.jsx)(l.a,{schema:t.schema,onChange:t.onChange})}function N(t){var e=g.getIDE().validatedSchemas.get(t.schemaId),n=Object(l.b)(e||new v),a=Object(s.a)(n,2),i=a[0],u=a[1],c=u.onChange,r=u.addNode,h=u.removeNode,b=function(t){var e=i.nodes.find((function(e){return e.id===t}));e&&h(e)},m=Object(p.useState)(new k(t.schemaId)),j=Object(s.a)(m,1)[0],N=Object(p.useState)(Function),y=Object(s.a)(N,2),I=y[0],S=y[1];function E(t){var e=function(e){j.makeInput(t,e)};S((function(){return e}))}function T(t){var e=function(e){j.makeOutput(t,e)};S((function(){return e}))}function x(t){var e=function(e){j.makeFunction(t,e)};S((function(){return e}))}function w(t){var e=function(e){j.makeSpecial(t,e)};S((function(){return e}))}return Object(p.useEffect)((function(){g.getIDE().addSchema(t.schemaId,i,{deleteNodeFromSchema:b,onChange:c,addNode:r})}),[i]),Object(o.jsxs)("div",{className:"diagram-section",children:[Object(o.jsxs)("div",{className:"diagram-display-area",onClick:function(t){return function(t){null!=I&&(I([t.pageX,t.pageY]),S((function(){})))}(t)},children:[void 0!==I&&"anonymous"!==I.name&&Object(o.jsx)("div",{className:"create-node-prompt",children:Object(o.jsx)("div",{className:"wrapper",children:Object(o.jsx)("h2",{children:"Click anywhere on canvas to create node"})})}),Object(o.jsx)(O,{schema:i,onChange:c})]}),Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return E(f.a.CONST)},children:"Constant"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.VAR_ASSIGN)},children:"Variable Assign"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return E(f.a.VAR_RETRIEVE)},children:"Variable Get"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.VAR_DELETE)},children:"Variable Delete"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.ARR_CREATE)},children:"Create Array"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.ARR_SET_IX)},children:"Array Set Index"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return E(f.a.ARR_GET_IX)},children:"Array Get Index"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.SUM)},children:"Adder"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.SUBTRACT)},children:"Subtract"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.PROD)},children:"Multiply"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.DIV)},children:"Divide"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.MAKE_CONTROL_ELEM)},children:"Create Control"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return E(f.a.JOY_X)},children:"Joystick X"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return E(f.a.JOY_Y)},children:"Joystick Y"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.MAKE_SHAPE)},children:"Shape"}),Object(o.jsx)(d.Button,{color:"primary",icon:"arrow-up",onClick:function(){return E(f.a.GET_SHAPE)},children:"Get Shape"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.MOVE_SHAPE)},children:"Move Shape"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.ROTATE_SHAPE)},children:"Rotate Shape"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.SCALE_SHAPE)},children:"Stretch Shape"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.GET_X)},children:"Get X"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.GET_Y)},children:"Get Y"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.GEQ)},children:">="}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.LEQ)},children:"<="}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.LT)},children:"<"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.GT)},children:">"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.EQ)},children:"=="}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.AND)},children:"AND"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.OR)},children:"OR"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.NOT)},children:"NOT"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return x(f.a.TERNARY)},children:"if then else"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return w(f.a.IF)},children:"IF"}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return w(f.a.WHILE)},children:"WHILE"}),Object(o.jsx)("hr",{}),Object(o.jsx)(d.Button,{color:"primary",icon:"plus",onClick:function(){return T(f.a.CLB)},children:"Print"})]})]})}var g=function(){function t(e){Object(i.a)(this,t),this.ideId=void 0,this.validatedSchemas=void 0,this.schemaMethods=void 0,this.displaySchemaId=void 0,this.validatedSchemas=new Map,this.schemaMethods=new Map,this.displaySchemaId="main",this.ideId=e}return Object(u.a)(t,null,[{key:"getID",value:function(){return String(t.globalNextId++)}}]),Object(u.a)(t,[{key:"renderDiagram",value:function(){console.log("rendering IDE");var t=Object(o.jsx)("div",{children:Object(o.jsx)(N,{schemaId:this.displaySchemaId})});r.a.render(t,document.getElementById(this.ideId))}},{key:"redrawDiagram",value:function(){var t=document.getElementById(this.ideId);t&&r.a.unmountComponentAtNode(t),this.renderDiagram()}},{key:"addSchema",value:function(t,e,n){this.validatedSchemas.set(t,e),this.schemaMethods.set(t,n)}},{key:"setDisplaySchemaId",value:function(t){this.displaySchemaId=t,this.redrawDiagram()}},{key:"loadSchemas",value:function(e,n){this.validatedSchemas=e,t.globalNextId=Number(n),this.schemaMethods=new Map,this.displaySchemaId="main",this.redrawDiagram()}},{key:"flagNodes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];n.forEach((function(e){for(var n=0,a=Array.from(t.validatedSchemas.values());n<a.length;n++){var o=a[n].nodes.find((function(t){return t.id===e}));if(o){o.data.problematic=!0,console.log("Flagged ".concat(e,"!"));break}}}))}},{key:"unflagNodes",value:function(){this.validatedSchemas.forEach((function(t){t.nodes.forEach((function(t){return t.data.problematic=!1}))}))}}],[{key:"getIDE",value:function(){return t.instance||(t.instance=new t("ide")),t.instance}}]),t}();g.globalNextId=0,g.instance=void 0},289:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(3),o=n(6),i=n(4),u=n(5),c=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(t,o){var i;return Object(a.a)(this,n),(i=e.call(this,t)).buttonName=void 0,i.buttonName=o,i}return Object(o.a)(n,[{key:"evalBlock",value:function(t){var e=t.get("&btn-"+this.buttonName);return Boolean(e)}}]),n}(n(18).a)},290:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(3),o=n(6),i=n(4),u=n(5),c=n(16),r=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(t,o){var i;return Object(a.a)(this,n),(i=e.call(this,t)).joyName=void 0,i.joyName=o,i}return Object(o.a)(n,[{key:"evalBlock",value:function(t){var e="&"+this.joyName;if(!t.has(e))throw new c.a("Joystick ".concat(this.joyName," does not exist"),this.id);return t.get(e).x}}]),n}(n(18).a)},291:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(3),o=n(6),i=n(4),u=n(5),c=n(16),r=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(t,o){var i;return Object(a.a)(this,n),(i=e.call(this,t)).joyName=void 0,i.joyName=o,i}return Object(o.a)(n,[{key:"evalBlock",value:function(t){var e="&"+this.joyName;if(!t.has(e))throw new c.a("Joystick ".concat(this.joyName," does not exist"),this.id);return t.get(e).y}}]),n}(n(18).a)},292:function(t,e){},293:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(2),o=n(17),i=(n(294),n(37));function u(t){var e=t.inputs?i.a.makeInputDivs(t.inputs,t.data.inputNames):[],n=t.outputs?i.a.makeOutputDivs(t.outputs,t.data.outputNames):[];return Object(a.jsx)("div",{className:"node-wrapper",children:Object(a.jsxs)("div",{className:t.data.problematic?"custom-node-problem":"custom-node",children:[Object(a.jsx)("div",{className:"deleteBtn",children:Object(a.jsx)(o.Button,{icon:"times",size:"small",onClick:function(){return i.a.deleteNode(t.data.parentSchema,t.id)}})}),Object(a.jsxs)("div",{className:"ports",children:[Object(a.jsx)("div",{className:"inputs",children:e}),Object(a.jsx)("div",{className:"content",children:t.content}),Object(a.jsx)("div",{className:"outputs",children:n})]})]})})}},294:function(t,e,n){},295:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(2),o=(n(0),n(17)),i=(n(296),n(26)),u=n(37);function c(t){var e=t.inputs?u.a.makeInputDivs(t.inputs,t.data.inputNames):[];return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"if-node",children:[Object(a.jsx)("div",{className:"deleteBtn",children:Object(a.jsx)(o.Button,{icon:"times",size:"small",onClick:function(){return u.a.deleteNode(t.data.parentSchema,t.id)}})}),Object(a.jsxs)("div",{className:"ports",children:[Object(a.jsx)("div",{className:"inputs",children:e}),Object(a.jsx)("div",{className:"content",children:t.content})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{className:"true-btn",onClick:function(){console.log("Clicked True button! (going to if schema)"),i.a.getIDE().setDisplaySchemaId("".concat(t.id,"if"))},children:"True"}),Object(a.jsx)("button",{className:"false-btn",onClick:function(){console.log("Clicked False button! (going to else schema)"),i.a.getIDE().setDisplaySchemaId("".concat(t.id,"else"))},children:"False"})]})]})})}},296:function(t,e,n){},297:function(t,e){},298:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(2),o=n(17),i=(n(296),n(26)),u=n(37);function c(t){var e=t.inputs?u.a.makeInputDivs(t.inputs,t.data.inputNames):[];return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"while-node",children:[Object(a.jsx)("div",{className:"deleteBtn",children:Object(a.jsx)(o.Button,{icon:"times",size:"small",onClick:function(){return u.a.deleteNode(t.data.parentSchema,t.id)}})}),Object(a.jsxs)("div",{className:"ports",children:[Object(a.jsx)("div",{className:"inputs",children:e}),Object(a.jsx)("div",{className:"content",children:t.content})]}),Object(a.jsx)("div",{className:"buttons",children:Object(a.jsx)("button",{className:"loop-btn",onClick:function(){console.log("Clicked loop button!"),i.a.getIDE().setDisplaySchemaId("".concat(t.id,"while"))},children:"Loop"})})]})})}},299:function(t,e){},300:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(3),o=n(26),i=function t(e,n,i,u,c,r,s,l){Object(a.a)(this,t),this.id=void 0,this.coordinates=void 0,this.content=void 0,this.inputs=void 0,this.outputs=void 0,this.data=void 0,this.render=void 0,this.blockType=void 0,this.constInputs=void 0,this.id=o.a.getID(),this.coordinates=n,this.content=e,this.data=s,this.render=l,this.blockType=c,this.constInputs=r,this.outputs=[];for(var p=0;p<u;p++){var d={id:this.id+"-output-"+p};this.outputs.push(d)}this.inputs=[];for(var h=0;h<i;h++){var v={id:this.id+"-input-"+h};this.inputs.push(v)}}},301:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(3),o=n(4),i=n(5),u=n(13),c=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t,o,i,c,r){return Object(a.a)(this,n),e.call(this,t,o,1,u.a.IF,i,c,r)}return n}(n(68).a)},302:function(t,e){},303:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(3),o=n(4),i=n(5),u=n(13),c=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t,o,i,c,r){return Object(a.a)(this,n),e.call(this,t,o,1,u.a.WHILE,i,c,r)}return n}(n(68).a)},307:function(t){t.exports=JSON.parse('{"ids":["main","7while","10if","10else","11else","11if","21if","21else","55if","55else"],"schemas":[{"nodes":[{"isRoot":true,"id":"0","coordinates":[406,193],"content":"Assign horiz","inputs":[{"id":"0-input-0"}],"data":{"parentSchema":"main","inputNames":["Value"],"problematic":false},"blockType":25,"constInputs":["horiz"]},{"isRoot":true,"id":"1","coordinates":[407,280],"content":"Assign vert","inputs":[{"id":"1-input-0"}],"data":{"parentSchema":"main","inputNames":["Value"],"problematic":false},"blockType":25,"constInputs":["vert"]},{"isRoot":true,"id":"3","coordinates":[399,1],"content":"Make Rectangle","inputs":[{"id":"3-input-0"},{"id":"3-input-1"},{"id":"3-input-2"},{"id":"3-input-3"},{"id":"3-input-4"},{"id":"3-input-5"}],"data":{"parentSchema":"main","inputNames":["Name","X","Y","Stretch-X","Stretch-Y","Rotation"],"problematic":false},"blockType":16,"constInputs":["Rectangle","rgb(0,0,255)"]},{"id":"4","coordinates":[11,11],"content":"Constant: bob","outputs":[{"id":"4-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["bob"]},{"id":"5","coordinates":[2,210],"content":"Constant: 10","outputs":[{"id":"5-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["10"]},{"id":"6","coordinates":[-20,340],"content":"Constant: true","outputs":[{"id":"6-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["true"]},{"isRoot":true,"id":"7","coordinates":[410,363],"content":"WHILE","inputs":[{"id":"7-input-0"}],"data":{"parentSchema":"main","inputNames":["Condition"],"problematic":false},"blockType":23,"constInputs":[]},{"id":"75","coordinates":[-34,114],"content":"Constant: 100","outputs":[{"id":"75-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["100"]},{"id":"76","coordinates":[15,274],"content":"Constant: 5","outputs":[{"id":"76-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]}],"links":[{"input":"3-input-0","output":"4-output-0"},{"input":"3-input-1","output":"5-output-0"},{"input":"3-input-2","output":"5-output-0"},{"input":"3-input-5","output":"5-output-0"},{"input":"7-input-0","output":"6-output-0"},{"input":"3-input-3","output":"75-output-0"},{"input":"3-input-4","output":"75-output-0"},{"input":"0-input-0","output":"76-output-0"},{"input":"1-input-0","output":"76-output-0"}]},{"nodes":[{"isRoot":true,"id":"10","coordinates":[387,87],"content":"IF","inputs":[{"id":"10-input-0"}],"data":{"parentSchema":"7while","inputNames":["Condition"],"problematic":false},"blockType":22,"constInputs":[]},{"isRoot":true,"id":"11","coordinates":[404,270],"content":"IF","inputs":[{"id":"11-input-0"}],"data":{"parentSchema":"7while","inputNames":["Condition"],"problematic":false},"blockType":22,"constInputs":[]},{"id":"39","coordinates":[2,68],"content":"Constant: true","outputs":[{"id":"39-output-0"}],"data":{"parentSchema":"7while","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["true"]},{"id":"40","coordinates":[342,11],"content":"Constant: vertical","outputs":[{"id":"40-output-0"}],"data":{"parentSchema":"7while","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["vertical"]},{"id":"41","coordinates":[338,193],"content":"Constant: horizontal","outputs":[{"id":"41-output-0"}],"data":{"parentSchema":"7while","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["horizontal"]},{"id":"42","coordinates":[54,375],"content":"Get horiz","outputs":[{"id":"42-output-0"}],"data":{"parentSchema":"7while","outputNames":["Value"],"problematic":false},"blockType":27,"constInputs":["horiz"]},{"id":"43","coordinates":[58,493],"content":"Get vert","outputs":[{"id":"43-output-0"}],"data":{"parentSchema":"7while","outputNames":["Value"],"problematic":false},"blockType":27,"constInputs":["vert"]},{"isRoot":true,"id":"45","coordinates":[410,401],"content":"Move","inputs":[{"id":"45-input-0"},{"id":"45-input-1"},{"id":"45-input-2"}],"data":{"parentSchema":"7while","inputNames":["Shape","X","Y"],"problematic":false},"blockType":17,"constInputs":[]},{"id":"48","coordinates":[-16,247],"content":"Constant: $bob","outputs":[{"id":"48-output-0"}],"data":{"parentSchema":"7while","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["$bob"]}],"links":[{"input":"10-input-0","output":"39-output-0"},{"input":"11-input-0","output":"39-output-0"},{"input":"45-input-1","output":"42-output-0"},{"input":"45-input-2","output":"43-output-0"},{"input":"45-input-0","output":"48-output-0"}]},{"nodes":[{"id":"14","coordinates":[-5,161],"content":"Get vert","outputs":[{"id":"14-output-0"}],"data":{"parentSchema":"10if","outputNames":["Value"],"problematic":false},"blockType":27,"constInputs":["vert"]},{"id":"16","coordinates":[251,61],"content":"==","inputs":[{"id":"16-input-0"},{"id":"16-input-1"}],"outputs":[{"id":"16-output-0"}],"data":{"parentSchema":"10if","inputNames":["Left","Right"],"outputNames":["Out"],"problematic":false},"blockType":2,"constInputs":[]},{"isRoot":true,"id":"21","coordinates":[519,79],"content":"IF","inputs":[{"id":"21-input-0"}],"data":{"parentSchema":"10if","inputNames":["Condition"],"problematic":false},"blockType":22,"constInputs":[]},{"id":"77","coordinates":[-44,53],"content":"Constant: 5","outputs":[{"id":"77-output-0"}],"data":{"parentSchema":"10if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]}],"links":[{"input":"21-input-0","output":"16-output-0"},{"input":"16-input-1","output":"14-output-0"},{"input":"16-input-0","output":"77-output-0"}]},{"nodes":[],"links":[]},{"nodes":[],"links":[]},{"nodes":[{"id":"52","coordinates":[-37,128],"content":"Get horiz","outputs":[{"id":"52-output-0"}],"data":{"parentSchema":"11if","outputNames":["Value"],"problematic":false},"blockType":27,"constInputs":["horiz"]},{"id":"54","coordinates":[254,123],"content":"==","inputs":[{"id":"54-input-0"},{"id":"54-input-1"}],"outputs":[{"id":"54-output-0"}],"data":{"parentSchema":"11if","inputNames":["Left","Right"],"outputNames":["Out"],"problematic":false},"blockType":2,"constInputs":[]},{"isRoot":true,"id":"55","coordinates":[499,158],"content":"IF","inputs":[{"id":"55-input-0"}],"data":{"parentSchema":"11if","inputNames":["Condition"],"problematic":false},"blockType":22,"constInputs":[]},{"id":"80","coordinates":[-42,222],"content":"Constant: 5","outputs":[{"id":"80-output-0"}],"data":{"parentSchema":"11if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]}],"links":[{"input":"54-input-0","output":"52-output-0"},{"input":"55-input-0","output":"54-output-0"},{"input":"54-input-1","output":"80-output-0"}]},{"nodes":[{"id":"22","coordinates":[-28,20],"content":"Get bob","outputs":[{"id":"22-output-0"}],"data":{"parentSchema":"21if","outputNames":["Shape"],"problematic":false},"blockType":20,"constInputs":["bob"]},{"id":"23","coordinates":[-12,92],"content":"Get Y","inputs":[{"id":"23-input-0"}],"outputs":[{"id":"23-output-0"}],"data":{"parentSchema":"21if","inputNames":["Shape"],"outputNames":["Y"],"problematic":false},"blockType":37,"constInputs":[]},{"id":"24","coordinates":[224,31],"content":">","inputs":[{"id":"24-input-0"},{"id":"24-input-1"}],"outputs":[{"id":"24-output-0"}],"data":{"parentSchema":"21if","inputNames":["Left","Right"],"outputNames":["Out"],"problematic":false},"blockType":4,"constInputs":[]},{"id":"26","coordinates":[300,229],"content":"Ternary","inputs":[{"id":"26-input-0"},{"id":"26-input-1"},{"id":"26-input-2"}],"outputs":[{"id":"26-output-0"}],"data":{"parentSchema":"21if","inputNames":["If","Then","Else"],"outputNames":["Out"],"problematic":false},"blockType":24,"constInputs":[]},{"isRoot":true,"id":"27","coordinates":[558,139],"content":"Assign vert","inputs":[{"id":"27-input-0"}],"data":{"parentSchema":"21if","inputNames":["Value"],"problematic":false},"blockType":25,"constInputs":["vert"]},{"id":"73","coordinates":[-52,212],"content":"Constant: 400","outputs":[{"id":"73-output-0"}],"data":{"parentSchema":"21if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["400"]},{"id":"78","coordinates":[1,406],"content":"Constant: 5","outputs":[{"id":"78-output-0"}],"data":{"parentSchema":"21if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]},{"id":"79","coordinates":[6,326],"content":"Constant: -5","outputs":[{"id":"79-output-0"}],"data":{"parentSchema":"21if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["-5"]}],"links":[{"input":"23-input-0","output":"22-output-0"},{"input":"24-input-0","output":"23-output-0"},{"input":"26-input-0","output":"24-output-0"},{"input":"27-input-0","output":"26-output-0"},{"input":"24-input-1","output":"73-output-0"},{"input":"26-input-1","output":"79-output-0"},{"input":"26-input-2","output":"78-output-0"}]},{"nodes":[{"id":"32","coordinates":[-7,36],"content":"Get bob","outputs":[{"id":"32-output-0"}],"data":{"parentSchema":"21else","outputNames":["Shape"],"problematic":false},"blockType":20,"constInputs":["bob"]},{"id":"33","coordinates":[-7,113],"content":"Get Y","inputs":[{"id":"33-input-0"}],"outputs":[{"id":"33-output-0"}],"data":{"parentSchema":"21else","inputNames":["Shape"],"outputNames":["Y"],"problematic":false},"blockType":37,"constInputs":[]},{"id":"34","coordinates":[-18,186],"content":"Constant: 0","outputs":[{"id":"34-output-0"}],"data":{"parentSchema":"21else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["0"]},{"id":"35","coordinates":[225,58],"content":"<","inputs":[{"id":"35-input-0"},{"id":"35-input-1"}],"outputs":[{"id":"35-output-0"}],"data":{"parentSchema":"21else","inputNames":["Left","Right"],"outputNames":["Out"],"problematic":false},"blockType":6,"constInputs":[]},{"id":"36","coordinates":[280,227],"content":"Ternary","inputs":[{"id":"36-input-0"},{"id":"36-input-1"},{"id":"36-input-2"}],"outputs":[{"id":"36-output-0"}],"data":{"parentSchema":"21else","inputNames":["If","Then","Else"],"outputNames":["Out"],"problematic":false},"blockType":24,"constInputs":[]},{"isRoot":true,"id":"37","coordinates":[534,192],"content":"Assign vert","inputs":[{"id":"37-input-0"}],"data":{"parentSchema":"21else","inputNames":["Value"],"problematic":false},"blockType":25,"constInputs":["vert"]},{"id":"83","coordinates":[-26,300],"content":"Constant: 5","outputs":[{"id":"83-output-0"}],"data":{"parentSchema":"21else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]},{"id":"84","coordinates":[-19,402],"content":"Constant: -5","outputs":[{"id":"84-output-0"}],"data":{"parentSchema":"21else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["-5"]}],"links":[{"input":"33-input-0","output":"32-output-0"},{"input":"35-input-0","output":"33-output-0"},{"input":"35-input-1","output":"34-output-0"},{"input":"36-input-0","output":"35-output-0"},{"input":"37-input-0","output":"36-output-0"},{"input":"36-input-1","output":"83-output-0"},{"input":"36-input-2","output":"84-output-0"}]},{"nodes":[{"id":"56","coordinates":[-106,33],"content":"Constant: $bob","outputs":[{"id":"56-output-0"}],"data":{"parentSchema":"55if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["$bob"]},{"id":"57","coordinates":[-64,108],"content":"Get X","inputs":[{"id":"57-input-0"}],"outputs":[{"id":"57-output-0"}],"data":{"parentSchema":"55if","inputNames":["Shape"],"outputNames":["X"],"problematic":false},"blockType":36,"constInputs":[]},{"id":"58","coordinates":[-67,175],"content":"Constant: 300","outputs":[{"id":"58-output-0"}],"data":{"parentSchema":"55if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["300"]},{"id":"59","coordinates":[156,90],"content":">","inputs":[{"id":"59-input-0"},{"id":"59-input-1"}],"outputs":[{"id":"59-output-0"}],"data":{"parentSchema":"55if","inputNames":["Left","Right"],"outputNames":["Out"],"problematic":false},"blockType":4,"constInputs":[]},{"id":"60","coordinates":[322,216],"content":"Ternary","inputs":[{"id":"60-input-0"},{"id":"60-input-1"},{"id":"60-input-2"}],"outputs":[{"id":"60-output-0"}],"data":{"parentSchema":"55if","inputNames":["If","Then","Else"],"outputNames":["Out"],"problematic":false},"blockType":24,"constInputs":[]},{"isRoot":true,"id":"61","coordinates":[596,202],"content":"Assign horiz","inputs":[{"id":"61-input-0"}],"data":{"parentSchema":"55if","inputNames":["Value"],"problematic":false},"blockType":25,"constInputs":["horiz"]},{"id":"81","coordinates":[-42,264],"content":"Constant: -5","outputs":[{"id":"81-output-0"}],"data":{"parentSchema":"55if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["-5"]},{"id":"82","coordinates":[-19,423],"content":"Constant: 5","outputs":[{"id":"82-output-0"}],"data":{"parentSchema":"55if","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]}],"links":[{"input":"57-input-0","output":"56-output-0"},{"input":"59-input-0","output":"57-output-0"},{"input":"59-input-1","output":"58-output-0"},{"input":"60-input-0","output":"59-output-0"},{"input":"61-input-0","output":"60-output-0"},{"input":"60-input-1","output":"81-output-0"},{"input":"60-input-2","output":"82-output-0"}]},{"nodes":[{"id":"64","coordinates":[-85,57],"content":"Constant: 0","outputs":[{"id":"64-output-0"}],"data":{"parentSchema":"55else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["0"]},{"id":"65","coordinates":[-136,138],"content":"Constant: $bob","outputs":[{"id":"65-output-0"}],"data":{"parentSchema":"55else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["$bob"]},{"id":"66","coordinates":[-17,210],"content":"Get X","inputs":[{"id":"66-input-0"}],"outputs":[{"id":"66-output-0"}],"data":{"parentSchema":"55else","inputNames":["Shape"],"outputNames":["X"],"problematic":false},"blockType":36,"constInputs":[]},{"id":"67","coordinates":[168,97],"content":">","inputs":[{"id":"67-input-0"},{"id":"67-input-1"}],"outputs":[{"id":"67-output-0"}],"data":{"parentSchema":"55else","inputNames":["Left","Right"],"outputNames":["Out"],"problematic":false},"blockType":4,"constInputs":[]},{"id":"68","coordinates":[352,157],"content":"Ternary","inputs":[{"id":"68-input-0"},{"id":"68-input-1"},{"id":"68-input-2"}],"outputs":[{"id":"68-output-0"}],"data":{"parentSchema":"55else","inputNames":["If","Then","Else"],"outputNames":["Out"],"problematic":false},"blockType":24,"constInputs":[]},{"isRoot":true,"id":"71","coordinates":[473,324],"content":"Assign horiz","inputs":[{"id":"71-input-0"}],"data":{"parentSchema":"55else","inputNames":["Value"],"problematic":false},"blockType":25,"constInputs":["horiz"]},{"id":"85","coordinates":[-24,327],"content":"Constant: 5","outputs":[{"id":"85-output-0"}],"data":{"parentSchema":"55else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["5"]},{"id":"86","coordinates":[-32,426],"content":"Constant: -5","outputs":[{"id":"86-output-0"}],"data":{"parentSchema":"55else","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["-5"]}],"links":[{"input":"66-input-0","output":"65-output-0"},{"input":"67-input-0","output":"64-output-0"},{"input":"67-input-1","output":"66-output-0"},{"input":"68-input-0","output":"67-output-0"},{"input":"71-input-0","output":"68-output-0"},{"input":"68-input-1","output":"85-output-0"},{"input":"68-input-2","output":"86-output-0"}]}],"nodeIDStart":"87"}')},308:function(t){t.exports=JSON.parse('{"ids":["main"],"schemas":[{"nodes":[{"isRoot":true,"id":"1","coordinates":[365,9],"content":"Make Rectangle","inputs":[{"id":"1-input-0"},{"id":"1-input-1"},{"id":"1-input-2"},{"id":"1-input-3"},{"id":"1-input-4"},{"id":"1-input-5"}],"data":{"parentSchema":"main","inputNames":["Name","X","Y","Stretch-X","Stretch-Y","Rotation"],"problematic":false},"blockType":16,"constInputs":["Rectangle","rgb(0,0,255)"]},{"id":"2","coordinates":[19,12],"content":"Constant: bob","outputs":[{"id":"2-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["bob"]},{"id":"3","coordinates":[1,83],"content":"Constant: 10","outputs":[{"id":"3-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["10"]},{"id":"4","coordinates":[-2,159],"content":"Constant: joe","outputs":[{"id":"4-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["joe"]},{"id":"5","coordinates":[5,225],"content":"Constant: 30","outputs":[{"id":"5-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["30"]},{"isRoot":true,"id":"6","coordinates":[365,183],"content":"Make Rectangle","inputs":[{"id":"6-input-0"},{"id":"6-input-1"},{"id":"6-input-2"},{"id":"6-input-3"},{"id":"6-input-4"},{"id":"6-input-5"}],"data":{"parentSchema":"main","inputNames":["Name","X","Y","Stretch-X","Stretch-Y","Rotation"],"problematic":false},"blockType":16,"constInputs":["Rectangle","rgb(0,255,0)"]},{"isRoot":true,"id":"7","coordinates":[376,359],"content":"Make joy1","inputs":[{"id":"7-input-0"},{"id":"7-input-1"}],"data":{"parentSchema":"main","inputNames":["X","Y"],"problematic":false},"blockType":35,"constInputs":["joy","joy1"]},{"id":"8","coordinates":[16,429],"content":"Constant: 100","outputs":[{"id":"8-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["100"]},{"id":"9","coordinates":[6,333],"content":"Constant: 200","outputs":[{"id":"9-output-0"}],"data":{"parentSchema":"main","outputNames":["Value"],"problematic":false},"blockType":1,"constInputs":["200"]},{"isRoot":true,"id":"11","coordinates":[374,462],"content":"Make joy2","inputs":[{"id":"11-input-0"},{"id":"11-input-1"}],"data":{"parentSchema":"main","inputNames":["X","Y"],"problematic":false},"blockType":35,"constInputs":["joy","joy2"]},{"isRoot":true,"id":"12","coordinates":[986,73],"content":"Move","inputs":[{"id":"12-input-0"},{"id":"12-input-1"},{"id":"12-input-2"}],"data":{"parentSchema":"main","inputNames":["Shape","X","Y"],"problematic":false},"blockType":17,"constInputs":[]},{"id":"13","coordinates":[670,37],"content":"Get bob","outputs":[{"id":"13-output-0"}],"data":{"parentSchema":"main","outputNames":["Shape"],"problematic":false},"blockType":20,"constInputs":["bob"]},{"id":"14","coordinates":[665,126],"content":"Get joy1 X","outputs":[{"id":"14-output-0"}],"data":{"parentSchema":"main","outputNames":["X"],"problematic":false},"blockType":29,"constInputs":["joy1"]},{"id":"15","coordinates":[653,198],"content":"Get joy1 Y","outputs":[{"id":"15-output-0"}],"data":{"parentSchema":"main","outputNames":["Y"],"problematic":false},"blockType":30,"constInputs":["joy1"]},{"isRoot":true,"id":"16","coordinates":[992,247],"content":"Move","inputs":[{"id":"16-input-0"},{"id":"16-input-1"},{"id":"16-input-2"}],"data":{"parentSchema":"main","inputNames":["Shape","X","Y"],"problematic":false},"blockType":17,"constInputs":[]},{"id":"18","coordinates":[648,269],"content":"Get joe","outputs":[{"id":"18-output-0"}],"data":{"parentSchema":"main","outputNames":["Shape"],"problematic":false},"blockType":20,"constInputs":["joe"]},{"id":"19","coordinates":[659,342],"content":"Get joy2 X","outputs":[{"id":"19-output-0"}],"data":{"parentSchema":"main","outputNames":["X"],"problematic":false},"blockType":29,"constInputs":["joy2"]},{"id":"21","coordinates":[657,417],"content":"Get joy2 Y","outputs":[{"id":"21-output-0"}],"data":{"parentSchema":"main","outputNames":["Y"],"problematic":false},"blockType":30,"constInputs":["joy2"]}],"links":[{"input":"1-input-0","output":"2-output-0"},{"input":"1-input-1","output":"3-output-0"},{"input":"1-input-2","output":"3-output-0"},{"input":"1-input-3","output":"3-output-0"},{"input":"1-input-4","output":"3-output-0"},{"input":"1-input-5","output":"3-output-0"},{"input":"6-input-0","output":"4-output-0"},{"input":"6-input-1","output":"5-output-0"},{"input":"6-input-2","output":"5-output-0"},{"input":"6-input-3","output":"5-output-0"},{"input":"6-input-4","output":"5-output-0"},{"input":"6-input-5","output":"5-output-0"},{"input":"7-input-1","output":"8-output-0"},{"input":"7-input-0","output":"8-output-0"},{"input":"11-input-1","output":"8-output-0"},{"input":"11-input-0","output":"9-output-0"},{"input":"12-input-0","output":"13-output-0"},{"input":"12-input-1","output":"14-output-0"},{"input":"12-input-2","output":"15-output-0"},{"input":"16-input-0","output":"18-output-0"},{"input":"16-input-1","output":"19-output-0"},{"input":"16-input-2","output":"21-output-0"}]}],"nodeIDStart":"23"}')},316:function(t,e,n){},317:function(t,e,n){},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(2),o=n(3),i=n(6),u=(n(294),n(0)),c=n.n(u),r=n(26),s=function(){function t(){Object(o.a)(this,t)}return Object(i.a)(t,null,[{key:"makeInputDivs",value:function(t,e){var n=[];if(t)for(var o=0;o<t.length;o++)n.push(Object(a.jsxs)("div",{className:"InputPortDiv",children:[c.a.cloneElement(t[o],{className:"port"}),e&&Object(a.jsx)("label",{children:e[o]})]},t[o].key+"div"));return n}},{key:"makeOutputDivs",value:function(t,e){var n=[];if(t)for(var o=0;o<t.length;o++)n.push(Object(a.jsxs)("div",{className:"OutputPortDiv",children:[e&&Object(a.jsx)("label",{children:e[o]}),c.a.cloneElement(t[o],{className:"port"})]},t[o].key+"div"));return n}},{key:"deleteNode",value:function(t,e){r.a.getIDE().schemaMethods.get(t).deleteNodeFromSchema(e)}}]),t}()},44:function(t,e,n){"use strict";var a=n(293);n.d(e,"CustomRender",(function(){return a.a}));var o=n(295);n.d(e,"IfRender",(function(){return o.a}));var i=n(297);n.o(i,"WhileRender")&&n.d(e,"WhileRender",(function(){return i.WhileRender}));var u=n(298);n.d(e,"WhileRender",(function(){return u.a}));n(37)},48:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(3),o=n(4),i=n(5),u=n(126),c=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).name="InternalCompilerError",o}return n}(Object(u.a)(Error))},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return j.a}));n(117);var a,o=n(3),i=n(6),u=n(4),c=n(5),r=n(16),s=n(18),l=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,a){var i;return Object(o.a)(this,n),(i=e.call(this,t)).shape=void 0,i.shape=a[0],i}return Object(i.a)(n,[{key:"evalBlock",value:function(t){var e=this.shape.evalBlock(t),n=t.get(e);if(!n)throw new r.a("This shape does not exist",this.id);return n.posX}}]),n}(s.a),p=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,a){var i;return Object(o.a)(this,n),(i=e.call(this,t)).shape=void 0,i.shape=a[0],i}return Object(i.a)(n,[{key:"evalBlock",value:function(t){var e=this.shape.evalBlock(t),n=t.get(e);if(!n)throw new r.a("This shape does not exist",this.id);return n.posY}}]),n}(s.a),d=(n(118),n(20)),h=n.n(d),v=n(22),f=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,a){var i;return Object(o.a)(this,n),(i=e.call(this,t)).shape=void 0,i.x=void 0,i.y=void 0,i.shape=a[0],i.x=a[1],i.y=a[2],i}return Object(i.a)(n,[{key:"evalBlock",value:h.a.mark((function t(e){var n,a,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=String(this.shape.evalBlock(e)),a=e.get(n)){t.next=4;break}throw new r.a("This shape does not exist",this.id);case 4:if(o=Number(this.x.evalBlock(e)),i=Number(this.y.evalBlock(e)),!isNaN(o)&&!isNaN(i)){t.next=8;break}throw new r.a("Input not a number",this.id);case 8:return a.posX+=o,a.posY+=i,e.set(n,a),void(t.next=13);case 13:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),b=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,a){var i;return Object(o.a)(this,n),(i=e.call(this,t)).shape=void 0,i.rot=void 0,i.shape=a[0],i.rot=a[1],i}return Object(i.a)(n,[{key:"evalBlock",value:h.a.mark((function t(e){var n,a,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=String(this.shape.evalBlock(e)),a=e.get(n)){t.next=4;break}throw new r.a("This shape does not exist",this.id);case 4:if(o=Number(this.rot.evalBlock(e)),!isNaN(o)){t.next=7;break}throw new r.a("Input not a number",this.id);case 7:return a.rot+=o,e.set(n,a),void(t.next=11);case 11:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),m=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,a){var i;return Object(o.a)(this,n),(i=e.call(this,t)).shape=void 0,i.x=void 0,i.y=void 0,i.shape=a[0],i.x=a[1],i.y=a[2],i}return Object(i.a)(n,[{key:"evalBlock",value:h.a.mark((function t(e){var n,a,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=String(this.shape.evalBlock(e)),a=e.get(n)){t.next=4;break}throw new r.a("This shape does not exist",this.id);case 4:if(o=Number(this.x.evalBlock(e)),i=Number(this.y.evalBlock(e)),!isNaN(o)&&!isNaN(i)){t.next=8;break}throw new r.a("Input not a number",this.id);case 8:return a.scaleX*=o,a.scaleY*=i,e.set(n,a),void(t.next=13);case 13:case"end":return t.stop()}}),t,this)}))}]),n}(v.a);n(67);!function(t){t.BLACK="rgb(0,0,0)",t.WHITE="rgb(255,255,255)",t.GREY="rgb(155,155,155)",t.RED="rgb(255,0,0)",t.GREEN="rgb(0,255,0)",t.BLUE="rgb(0,0,255)",t.YELLOW="rgb(255,255,0)",t.PURPLE="rgb(128,0,128)",t.BROWN="rgb(110,60,34)",t.ORANGE="rgb(255,89,0)",t.PINK="rgb(255,0,255)"}(a||(a={}));var j=n(56)},56:function(t,e,n){"use strict";var a;n.d(e,"a",(function(){return a})),function(t){t.RECT="Rectangle",t.CIRCLE="Circle",t.TRIANGLE="Triangle",t.STAR="Star",t.HEART="Heart"}(a||(a={}))},640:function(t,e,n){},641:function(t,e,n){},642:function(t,e,n){"use strict";n.r(e);var a=n(2),o=n(0),i=n.n(o),u=n(39),c=n.n(u),r=(n(316),n(317),n(27)),s=n(26),l=n(17),p=n(20),d=n.n(p),h=n(24),v=n(72),f=n(305),b=n(3),m=n(6),j=n(48),k=n(22),O=!1,N=function(){function t(e,n){var a=this;Object(b.a)(this,t),this.subroutines=void 0,this.triggerDict=void 0,this.varEnv=void 0,this.triggeredIndexes=void 0,this.taskQueue=void 0,this.errorNotify=void 0,this.subroutines=e,this.triggerDict=n,this.varEnv=new Map,this.taskQueue=[],this.errorNotify=function(t){console.log("Unhandled Runtime Error")},this.triggeredIndexes=new Set,n.forEach((function(t){t.forEach((function(t){return a.triggeredIndexes.add(t)}))})),console.log("trigger map"),console.log(n),console.log("THERE ARE ".concat(this.subroutines.length," subroutines"))}return Object(m.a)(t,[{key:"trigger",value:function(t){var e,n=this;this.triggerDict.has(t)?(null===(e=this.triggerDict.get(t))||void 0===e||e.forEach((function(t){var e=n.subroutines[t];if(!(e instanceof k.a))throw new j.a("Subroutine not Void!");n.buildTaskQueue(e.evalBlock(n.varEnv),e.getLength())})),this.scheduleNextTask()):console.log("".concat(t," is not a defined trigger"))}},{key:"stop",value:function(){console.log("scheduling to stop!"),O=!0}},{key:"run",value:function(){var t=this;O=!1,this.taskQueue=[],this.varEnv=new Map,this.subroutines.filter((function(e,n){return!t.triggeredIndexes.has(n)})).forEach((function(e){if(!(e instanceof k.a))throw new j.a("Task is not a Void!");var n=e.evalBlock(t.varEnv);t.buildTaskQueue(n,e.getLength())})),this.scheduleNextTask()}},{key:"buildTaskQueue",value:function(t,e){this.taskQueue.push([t,e])}},{key:"eventLoop",value:function(t,e){var n=this;if(O)this.stopCleanup();else{var a;try{var o,i=0;do{o=t.next()}while(++i<e);a=o.done}catch(u){if(console.error(u),console.log("CAUGHT AN ERROR"),O=!0,this.taskQueue=[],"TeaBlocksError"!=u.name)throw console.log("UNHANDLED ERROR!!"),u;console.log("TEABLOCKS ERROR!!!"),this.errorNotify(u.message,u.id),console.log(u)}a?this.scheduleNextTask():window.requestAnimationFrame((function(a){return n.eventLoop(t,e)}))}}},{key:"scheduleNextTask",value:function(){var t=this,e=this.taskQueue.shift();if(null!=e){var n=Object(r.a)(e,2),a=n[0],o=n[1];window.requestAnimationFrame((function(e){return t.eventLoop(a,o)}))}}},{key:"stopCleanup",value:function(){this.varEnv=new Map,this.taskQueue=[]}}]),t}(),g=n(7);function y(){return(y=Object(f.a)(d.a.mark((function t(e){var n,a,o,i,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=function(t){if(console.log("Entering Compile Tree"),t.hasBeenCompiled)throw new EvalError("Looping tree? (In Compiler)");if(t.hasBeenCompiled=!0,t.isInput){console.log("We an input (base case)");var e=g.b.apply(void 0,[t.nodeId,t.blockType].concat(Object(v.a)(t.constInputs))),a=new Set;return t.isTriggered&&(console.log("".concat(t.constInputs[0]," is this node's trigger")),a.add(t.constInputs[0])),[e,a]}if(t.blockType===g.a.IF||t.blockType===g.a.WHILE){console.log("IF BLOCK/ WHILE BLOCK");var o=t.children;console.log("Length of children: "+o.length);var i=new Set,u=o.map((function(t){return t.map((function(t){console.log("Compiling child");var e=n(t),a=Object(r.a)(e,2),o=a[0],u=a[1];return console.log("Done compiling child"),u.forEach((function(t){return i.add(t)})),o}))}));console.log("Done compiling children");var c=g.b.apply(void 0,[t.nodeId,t.blockType].concat(Object(v.a)(t.constInputs),[u]));return console.log("Returning"),[c,i]}var s=function(){console.log("We not input (recursive)");var e=Object(r.a)(t.children,1)[0];console.log("Length of children: "+e.length);var a,o=[],i=new Set,u=Object(h.a)(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;console.log("Compiling child");var s=n(c),l=Object(r.a)(s,2),p=l[0],d=l[1];console.log("Done compiling child"),o.push(p),d.forEach((function(t){return i.add(t)}))}}catch(b){u.e(b)}finally{u.f()}t.isTriggered&&i.add(t.constInputs[0]),console.log("Done compiling children");var f=g.b.apply(void 0,[t.nodeId,t.blockType].concat(Object(v.a)(t.constInputs),[o]));return console.log("Returning"),{v:[f,i]}}();if("object"===typeof s)return s.v},a=Array(e.length),o=new Map,console.log("BEGINING COMPILING"),console.log("We have "+e.length+" trees"),i=function(t){console.log("COMPILING THIS NODE");var i=n(e[t]),u=Object(r.a)(i,2),c=u[0],s=u[1];console.log("DONE COMPILING THIS NODE"),a[t]=c,console.log("Trigset:"),console.log(s),s.forEach((function(e){var n;(console.log("Trig:"+e),o.has(e))?null===(n=o.get(e))||void 0===n||n.push(t):o.set(e,[t])}))},u=0;u<e.length;u++)i(u);return t.abrupt("return",new N(a,o));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I=n(95),S=n(4),E=n(5),T=n(306),x=n(67),w=n(56),R=n(309),B=n(310),C=function(t){var e=t.draw,n=Object(B.a)(t,["draw"]),i=Object(o.useRef)(null);return Object(o.useEffect)((function(){var t,n=i.current,a=n.getContext("2d"),o=0;n.style.width="100%",n.style.height="100%",n.width=n.offsetWidth,n.height=n.offsetHeight;return function n(){o++,e(a,o),t=window.requestAnimationFrame(n)}(),function(){window.cancelAnimationFrame(t)}}),[e]),Object(a.jsx)("canvas",Object(R.a)({ref:i},n))},A=(n(640),function(t){Object(S.a)(n,t);var e=Object(E.a)(n);function n(t){var a;return Object(b.a)(this,n),(a=e.call(this,t)).program=void 0,a.inputStorage=void 0,console.log("--RUNTIME           Entered Runtime constructor"),a.state={inputs:[]},a.program=t.program,a.inputStorage=new Map,a.draw=a.draw.bind(Object(I.a)(a)),a.setup=a.setup.bind(Object(I.a)(a)),a}return Object(m.a)(n,[{key:"moveThing",value:function(t,e){if(t.started){var n={x:t.x,y:t.y};this.program.varEnv.set("&".concat(e),n),this.program.trigger("".concat(e))}}},{key:"setup",value:function(){var t=this;console.log("--RUNTIME           called setup !!!!",this.program.varEnv,this.program.triggerDict,"asdasd"),this.program.triggerDict.size!==this.state.inputs.length&&this.program.varEnv.forEach((function(e,n){var o=n.substring(1);if("joy"!==e.type||t.inputStorage.has(o))e.type;else{console.log("--RUNTIME           ",e);var i=Object(a.jsx)("div",{className:o,style:{position:"absolute",left:e.x,bottom:e.y},children:Object(a.jsx)(T.Joystick,{size:100,baseColor:"#7c7cf3",stickColor:"#efefef",move:function(e){t.handleMove(e,o)},stop:function(e){t.handleStop(e,o)},start:function(e){t.handleStart(e,o)}})},o);t.inputStorage.set(o,{started:!1,x:0,y:0}),t.setState((function(t){return{inputs:[].concat(Object(v.a)(t.inputs),[i])}})),t.program.varEnv.set("&".concat(o),{x:0,y:0})}}))}},{key:"componentDidMount",value:function(){this.setup()}},{key:"draw",value:function(t,e){var n=this;t.clearRect(0,0,t.canvas.width,t.canvas.height),this.state.inputs.length<this.program.triggerDict.size&&this.setup(),this.inputStorage.forEach((function(t,e){n.moveThing(t,e)})),this.program.subroutines.length>0&&this.program.varEnv.forEach((function(e,a){switch(e.constructor){case x.a:n.addShape(t,e)}}))}},{key:"handleMove",value:function(t,e){if(t.x&&t.y&&this.inputStorage.get(e)){var n,a={started:(null===(n=this.inputStorage.get(e))||void 0===n?void 0:n.started)||!0,x:t.x/50,y:t.y/50*-1};this.inputStorage.set(e,a)}}},{key:"handleStop",value:function(t,e){this.inputStorage.set(e,{started:!1,x:0,y:0})}},{key:"handleStart",value:function(t,e){if(this.inputStorage.get(e)){var n,a,o={started:!0,x:(null===(n=this.inputStorage.get(e))||void 0===n?void 0:n.x)||0,y:(null===(a=this.inputStorage.get(e))||void 0===a?void 0:a.y)||0};this.inputStorage.set(e,o)}}},{key:"addShape",value:function(t,e){var n=e.type;switch(t.fillStyle=e.color,n){case w.a.RECT:this.addRect(t,e.posX,e.posY,e.scaleX,e.scaleY);break;case w.a.CIRCLE:case w.a.TRIANGLE:case w.a.HEART:case w.a.STAR:}}},{key:"addRect",value:function(t,e,n,a,o){t.beginPath(),t.rect(e,n,a,o),t.fill()}},{key:"componentWillUnmount",value:function(){var t=document.getElementById("controller");t&&c.a.unmountComponentAtNode(t)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"runtime-section",children:Object(a.jsxs)("div",{className:"runtime-output",children:[Object(a.jsx)(C,{draw:this.draw}),Object(a.jsx)("div",{className:"controller",children:this.state.inputs})]})})}}]),n}(o.Component)),D=n(13),L=function t(e,n,a,o){Object(b.a)(this,t),this.nodeId=void 0,this.children=void 0,this.blockType=void 0,this.constInputs=void 0,this.hasBeenCompiled=void 0,this.isInput=void 0,this.isTriggered=void 0,this.nodeId=e,this.blockType=n,this.children=[],this.hasBeenCompiled=!1,this.isInput=o,this.constInputs=a,this.isTriggered=n===D.a.BTN_STATUS||n===D.a.JOY_X||n===D.a.JOY_Y},_=n(120),V=500;function M(t){t.sort((function(t,e){return t.coordinates[0]-e.coordinates[0]}));var e,n=[],a=[[[0,20],0]],o=Object(h.a)(t);try{for(o.s();!(e=o.n()).done;){var i,u=e.value,c=u.coordinates[0],s=Object(h.a)(a);try{for(s.s();!(i=s.n()).done;){var l=Object(r.a)(i.value,2),p=l[0],d=l[1];if(p[0]<=c&&c<p[1]){n[d].push(u);break}}}catch(v){s.e(v)}finally{s.f()}a.push([[c-5,c+20],d+1]),n[d+1]=[u]}}catch(v){o.e(v)}finally{o.f()}return n.map((function(t){return t.sort((function(t,e){return t.coordinates[1]-e.coordinates[1]})),t})),n.flat()}var Y={sortRoots:M,precompile:function(t){console.log(t);var e,n=t.get("main");if(console.log(n),!n)throw Error("Main schema must be in schemas");function a(t){var e=[];if(null==t.links)return e;var n=M(e=t.nodes.filter((function(t){return"isRoot"in t})).filter((function(t,e,n){return n.indexOf(t)===e})));return console.log("roots"),console.log(n),n}function o(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(c>=V)throw new Error("Looping Tree?\nReached max recursion depth: 500");if(c+=1,u(n)){var s=new L(n.id,n.blockType,n.constInputs,!0);return console.log("Triggered: ".concat(s.isTriggered)),s}if(n.blockType===D.a.IF){var l=t.get(n.id+"if");if(!l)throw Error("Encountered If Node without schema");var p,d=a(l),v=[],f=Object(h.a)(d);try{for(f.s();!(p=f.n()).done;){var b=p.value,m=o(b,c,l);v.push(m)}}catch(H){f.e(H)}finally{f.f()}var j=t.get(n.id+"else");if(!j)throw Error("Encountered If Node without schema");var k,O=a(j),N=[],g=Object(h.a)(O);try{for(g.s();!(k=g.n()).done;){var y=k.value,I=o(y,c,j);N.push(I)}}catch(H){g.e(H)}finally{g.f()}var S=i(n,r),E=S.map((function(t){return o(t,c,r)})),T=new L(n.id,D.a.IF,[],!1);return T.children=[E,v,N],T}if(n.blockType===D.a.WHILE){var x=t.get(n.id+"while");if(!x)throw Error("Encountered Nested Node without schema");var w,R=a(x),B=[],C=Object(h.a)(R);try{for(C.s();!(w=C.n()).done;){var A=w.value,_=o(A,c,x);B.push(_)}}catch(H){C.e(H)}finally{C.f()}var M=i(n,r);console.log("my children before precompiling: "),console.log(M);var Y=M.map((function(t){return o(t,c,r)})),G=new L(n.id,D.a.WHILE,[],!1);return G.children=[Y,B],G}var X=i(n,r);console.log("my children before precompiling: "),console.log(X);var F=X.map((function(t){return o(t,c,r)}));console.log("my children after precompiling: "),console.log(F);var P=new L(n.id,n.blockType,n.constInputs,!1);return P.children=[F],console.log("value of comp's children: "),console.log(P.children),P}function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(!n.nodes.includes(t))throw Error("This node is not in schema");console.log("GETTING CHILDREN!");var a=[];if(null==t.inputs)return[];var o=t.inputs.map((function(t){return t.id}));if(console.log(o),o.sort(),console.log("port ids"),console.log(o),null!=o){var i,u=o.map((function(t){var e;return null===(e=n.links.find((function(e){return e.input===t})))||void 0===e?void 0:e.output})),c=Object(h.a)(u);try{var r=function(){var t=i.value;if(console.log("Found a child"),null==t)throw new Error("Null port id!");var e=t.substring(0,t.indexOf("-output")),o=n.nodes.find((function(t){return t.id===e}));null!=o&&a.push(o)};for(c.s();!(i=c.n()).done;)r()}catch(s){c.e(s)}finally{c.f()}}return a}function u(t){return t instanceof _.a}var c=a(e=n).map((function(t){return o(t)}));return console.log("Done precompiling! here's what we have:"),console.log(c),c}},G=n(44),X=function(){function t(){Object(b.a)(this,t)}return Object(m.a)(t,null,[{key:"serialize",value:function(){var t={ids:[],schemas:[],nodeIDStart:s.a.getID()};return s.a.getIDE().validatedSchemas.forEach((function(e,n){t.ids.push(n),t.schemas.push(e)})),JSON.stringify(t)}},{key:"deserialize",value:function(t){for(var e=JSON.parse(t),n=new Map,a=0;a<e.ids.length;a++){var o=e.schemas[a];o.nodes.forEach((function(t){switch(t.blockType){case g.a.IF:t.render=G.IfRender;break;case g.a.WHILE:t.render=G.WhileRender;break;default:t.render=G.CustomRender}})),n.set(e.ids[a],o)}return[n,e.nodeIDStart]}}]),t}(),F=n(16),P=(n(641),n(307)),H=n(308);function W(t){var e=t.loadBouncy,n=t.loadJoystick;return Object(a.jsxs)("div",{className:"info-panel",children:[Object(a.jsx)("h2",{children:"What is TeaBlocks?"}),Object(a.jsx)("div",{className:"info-block",children:"An educational mobile app project for teaching kids to code through a node-base visual programming language and lessons"}),Object(a.jsx)("h2",{children:"Instructions"}),Object(a.jsx)("div",{className:"info-block",children:"1. Select which node you want to add to the program"}),Object(a.jsx)("div",{className:"info-block",children:"2. Click anywhere on the canvas to add the node"}),Object(a.jsx)("div",{className:"info-block",children:"3. Connect node's by dragging the inputs to outputs"}),Object(a.jsx)("div",{className:"info-block",children:"4. Press BUILD to compile your program, and press RUN to run it"}),Object(a.jsx)("h2",{children:"Examples"}),Object(a.jsx)("div",{className:"info-block",children:"Demo programs made in TeaBlocks \u2192"}),Object(a.jsx)(l.Button,{color:"primary",icon:"upload",onClick:e,className:"compile-btn",children:" Load Bouncy Demo"}),Object(a.jsx)(l.Button,{color:"primary",icon:"upload",onClick:n,className:"compile-btn",children:" Load Joystick Demo"})]})}var J=new N([],new Map),U=!1;function z(){var t=Object(o.useState)(J),e=Object(r.a)(t,2),n=e[0],i=e[1],u=Object(o.useState)(!1),p=Object(r.a)(u,2),d=p[0],h=p[1];function v(){console.log("Button compile and run"),s.a.getIDE().unflagNodes();var t=Y.precompile(s.a.getIDE().validatedSchemas);U=!0,function(t){return y.apply(this,arguments)}(t).then((function(t){t.errorNotify=f,i(t)})).catch((function(t){console.error(t)}))}function f(t){for(var e,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(e=s.a.getIDE()).flagNodes.apply(e,a),s.a.getIDE().redrawDiagram()}function b(){var t=JSON.stringify(P),e=X.deserialize(t||""),n=Object(r.a)(e,2),a=n[0],o=n[1];s.a.getIDE().loadSchemas(a,o)}function m(){var t=JSON.stringify(H),e=X.deserialize(t||""),n=Object(r.a)(e,2),a=n[0],o=n[1];s.a.getIDE().loadSchemas(a,o)}function j(){h(!d)}return Object(o.useEffect)((function(){s.a.getIDE().renderDiagram()}),[]),Object(o.useEffect)((function(){var t=document.getElementById("Runtime");return t&&(console.log("UNMOUNTING RUNTIME"),c.a.unmountComponentAtNode(t)),n!==J&&(console.log("MOUNTING RUNTIME"),c.a.render(Object(a.jsx)(A,{program:n}),document.getElementById("Runtime"))),function(){console.log("Cleanup?"),n.stop()}}),[n]),Object(a.jsxs)("div",{className:"grid-container",children:[Object(a.jsxs)("div",{className:"Ide",children:[Object(a.jsx)("div",{id:"ide"}),Object(a.jsx)(l.Button,{color:"primary",icon:"home",onClick:function(){s.a.getIDE().setDisplaySchemaId("main")},className:"compile-btn",children:" Go to Main"}),Object(a.jsx)(l.Button,{color:"primary",icon:"hammer",onClick:function(){v()},className:"compile-btn",children:" Build"}),Object(a.jsx)(l.Button,{color:"primary",icon:"play",onClick:function(){return function(){n.varEnv.set("&joy-joystick",{x:0,y:0}),console.log("Run Program");try{n.run()}catch(t){if(!(t instanceof F.a))throw t;console.error(t),s.a.getIDE().flagNodes(t.id)}}()},className:"compile-btn",children:" Run"}),Object(a.jsx)(l.Button,{color:"primary",icon:"stop",onClick:n.stop,className:"compile-btn",children:" Stop"}),U&&Object(a.jsx)(l.Button,{color:"primary",icon:"question",onClick:j,className:"compile-btn help",children:"Help"})]}),Object(a.jsx)("div",{className:"Runtime",id:"Runtime",children:Object(a.jsx)(W,{loadBouncy:b,loadJoystick:m})}),d&&Object(a.jsxs)("div",{className:"info-popup",children:[Object(a.jsx)(W,{loadBouncy:b,loadJoystick:m}),Object(a.jsx)("button",{onClick:j,className:"close-btn",children:"X"})]})]})}var Q=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("h1",{children:"TeaBlocks Demo (WIP)"}),Object(a.jsx)(z,{})]})},K=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,643)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,i=e.getLCP,u=e.getTTFB;n(t),a(t),o(t),i(t),u(t)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Q,{})}),document.getElementById("root")),K()},67:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(3),o=function t(e,n,o,i,u,c,r,s){Object(a.a)(this,t),this.shapeName=void 0,this.posX=void 0,this.posY=void 0,this.scaleX=void 0,this.scaleY=void 0,this.rot=void 0,this.type=void 0,this.color=void 0,this.shapeName=e,this.posX=i,this.posY=u,this.scaleX=c,this.scaleY=r,this.rot=s,this.type=n,this.color=o}},68:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(3),o=n(4),i=n(5),u=n(119),c=n(26),r=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t,o,i,u,r,s,l){var p;Object(a.a)(this,n),(p=e.call(this)).id=void 0,p.coordinates=void 0,p.content=void 0,p.inputs=void 0,p.data=void 0,p.render=void 0,p.blockType=void 0,p.constInputs=void 0,p.id=c.a.getID(),p.coordinates=o,p.content=t,p.data=s,p.render=l,p.blockType=u,p.constInputs=r,console.log("Outputs id: "+p.id),p.inputs=[];for(var d=0;d<i;d++){var h="".concat(p.id,"-input-").concat(d);console.log("port id: "+h);var v={id:h};p.inputs.push(v)}return p}return n}(u.a)},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return a.a})),n.d(e,"b",(function(){return z}));var a=n(13),o=n(27),i=n(127),u=n(20),c=n.n(u),r=n(3),s=n(6),l=n(4),p=n(5),d=function t(e,n,a,o){Object(r.a)(this,t),this.displayName=void 0,this.x=void 0,this.y=void 0,this.type=void 0,this.displayName=e,this.x=n,this.y=a,this.type=o},h=n(16),v=n(22),f=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o,i){var u;return Object(r.a)(this,n),(u=e.call(this,t)).x=void 0,u.y=void 0,u.elemName=void 0,u.type=void 0,u.type=a,u.elemName=o,u.x=i[0],u.y=i[1],u}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){var n,a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Number(this.x.evalBlock(e)),a=Number(this.y.evalBlock(e)),!isNaN(n)&&!isNaN(a)){t.next=4;break}throw new h.a("Position must be a number",this.id);case 4:return o=new d(this.elemName,n,a,this.type),e.set("$"+this.elemName,o),void(t.next=8);case 8:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),b=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).input=void 0,console.log("this is the input",a),o.input=a,o}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.input.forEach((function(t){var n=t.evalBlock(e);console.log(n)})),void(t.next=3);case 3:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),m=n(18),j=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).leftSide=void 0,o.rightSide=void 0,o.leftSide=a[0],o.rightSide=a[1],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return this.leftSide.evalBlock(t)==this.rightSide.evalBlock(t)}}]),n}(m.a),k=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).leftSide=void 0,o.rightSide=void 0,o.leftSide=a[0],o.rightSide=a[1],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return this.leftSide.evalBlock(t)>=this.rightSide.evalBlock(t)}}]),n}(m.a),O=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).leftSide=void 0,o.rightSide=void 0,o.leftSide=a[0],o.rightSide=a[1],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return this.leftSide.evalBlock(t)>this.rightSide.evalBlock(t)}}]),n}(m.a),N=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).leftSide=void 0,o.rightSide=void 0,o.leftSide=a[0],o.rightSide=a[1],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return this.leftSide.evalBlock(t)<=this.rightSide.evalBlock(t)}}]),n}(m.a),g=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).leftSide=void 0,o.rightSide=void 0,o.leftSide=a[0],o.rightSide=a[1],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return this.leftSide.evalBlock(t)<this.rightSide.evalBlock(t)}}]),n}(m.a),y=n(24),I=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).inputs=void 0,o.inputs=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e,n=Object(y.a)(this.inputs);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(!Boolean(a.evalBlock(t)))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}}]),n}(m.a),S=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).bool=void 0,o.bool=a[0],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return!Boolean(this.bool.evalBlock(t))}}]),n}(m.a),E=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).inputs=void 0,o.inputs=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e,n=Object(y.a)(this.inputs);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(Boolean(a.evalBlock(t)))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}}]),n}(m.a),T=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).inputs=void 0,o.inputs=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e=this,n=Number(this.inputs[0].evalBlock(t));return 1===this.inputs.length||0===n||isNaN(n)||this.inputs.slice(1).forEach((function(a){var o=Number(a.evalBlock(t));if(isNaN(o))throw new h.a("Input is not a number",e.id);if(0===o)throw new h.a("Can't divide by zero.",e.id);n/=o})),n}}]),n}(m.a),x=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).inputs=void 0,o.inputs=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e=this,n=Number(this.inputs[0].evalBlock(t));if(isNaN(n))throw new h.a("Inputs must be numbers",this.id);return 1===this.inputs.length||1===n||0===n||this.inputs.slice(1).forEach((function(a){var o=Number(a.evalBlock(t));if(isNaN(o))throw new h.a("Inputs must be numbers",e.id);if(0===o)return 1;n=Math.pow(n,o)})),n}}]),n}(m.a),w=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).inputs=void 0,o.inputs=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e=this,n=Number(this.inputs[0].evalBlock(t));if(1===this.inputs.length)return n;if(isNaN(n))throw new h.a("Inputs Must be Number",this.id);return this.inputs.slice(1).forEach((function(a){var o=Number(a.evalBlock(t));if(isNaN(o))throw new h.a("Inputs must be numbers",e.id);n%=o})),n}}]),n}(m.a),R=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).operands=void 0,o.operands=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e,n=1,a=Object(y.a)(this.operands);try{for(a.s();!(e=a.n()).done;){var o=e.value,i=Number(o.evalBlock(t));if(isNaN(i))throw new h.a("Input not a number",this.id);if(0===i)return 0;n*=i}}catch(u){a.e(u)}finally{a.f()}return n}}]),n}(m.a),B=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).inputs=void 0,o.inputs=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e=Number(this.inputs[0].evalBlock(t));if(isNaN(e))throw new h.a("Input not a number",this.id);var n,a=Object(y.a)(this.inputs.slice(1));try{for(a.s();!(n=a.n()).done;){var o=n.value,i=Number(o.evalBlock(t));if(isNaN(i))throw new h.a("Input not a number",this.id);e-=i}}catch(u){a.e(u)}finally{a.f()}return e}}]),n}(m.a),C=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).operands=void 0,o.operands=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e,n="",a=!1,o=Object(y.a)(this.operands);try{for(o.s();!(e=o.n()).done;){var i=e.value;console.log(i);var u=i.evalBlock(t),c=Number(u);n=(a=a||isNaN(c))?String(n)+String(u):Number(n)+c}}catch(r){o.e(r)}finally{o.f()}return n}}]),n}(m.a),A=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).condition=void 0,o.tValue=void 0,o.fValue=void 0,o.condition=a[0],o.tValue=a[1],o.fValue=a[2],o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return Boolean(this.condition.evalBlock(t))?this.tValue.evalBlock(t):this.fValue.evalBlock(t)}}]),n}(m.a),D=n(49),L=n(117),_=n(118),V=n(48),M=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o){var i;return Object(r.a)(this,n),(i=e.call(this,t)).varName=void 0,i.value=void 0,i.varName=a,i.value=o[0],i}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.varName.includes("$")&&!this.varName.includes("&")){t.next=2;break}throw new h.a("Variable name contains illegal character",this.id);case 2:return n=this.value.evalBlock(e),e.set(this.varName,n),void(t.next=6);case 6:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),Y=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o,i,u,c){var s;Object(r.a)(this,n),(s=e.call(this,t)).counterName=void 0,s.initialValue=void 0,s.condition=void 0,s.incrementValue=void 0,s.nodes=void 0,s.len=void 0,s.counterName=a,s.initialValue=o[0],s.condition=i[0],s.incrementValue=u[0],s.nodes=c,s.len=0;var l,p=Object(y.a)(c);try{for(p.s();!(l=p.n()).done;){var d=l.value;s.len+=d.getLength()}}catch(h){p.e(h)}finally{p.f()}return s}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){var n,a,o,i,u,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:new M(this.id,this.counterName,[this.initialValue]).evalBlock(e);case 2:if(Boolean(this.condition.evalBlock(e))){t.next=6;break}return t.abrupt("return");case 6:n=Object(y.a)(this.nodes),t.prev=7,n.s();case 9:if((a=n.n()).done){t.next=21;break}if((o=a.value)instanceof v.a){t.next=13;break}throw new V.a("Loop body must be void");case 13:i=o.evalBlock(e),u=void 0;case 15:return u=i.next(),void(t.next=18);case 18:if(!u.done){t.next=15;break}case 19:t.next=9;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(7),n.e(t.t0);case 26:return t.prev=26,n.f(),t.finish(26);case 29:r=this.incrementValue.evalBlock(e),e.set(this.counterName,e.get(this.counterName)+r),t.next=2;break;case 33:case"end":return t.stop()}}),t,this,[[7,23,26,29]])}))},{key:"getLength",value:function(){return this.len}}]),n}(v.a),G=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o,i){var u;Object(r.a)(this,n),(u=e.call(this,t)).condition=void 0,u.then=void 0,u.otherwise=void 0,u.len=void 0,u.condition=a,u.then=o,u.otherwise=i;var c,s=0,l=0,p=Object(y.a)(o);try{for(p.s();!(c=p.n()).done;){s+=c.value.getLength()}}catch(v){p.e(v)}finally{p.f()}var d,h=Object(y.a)(i);try{for(h.s();!(d=h.n()).done;){l+=d.value.getLength()}}catch(v){h.e(v)}finally{h.f()}return u.len=Math.max(s,l),u}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){var n,a,o,i,u,r,s,l,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.condition,a=new I(this.id,n),o=a.evalBlock(e),i=o?this.then:this.otherwise,u=Object(y.a)(i),t.prev=5,u.s();case 7:if((r=u.n()).done){t.next=19;break}if((s=r.value)instanceof v.a){t.next=11;break}throw new V.a("Loop body must be void");case 11:l=s.evalBlock(e),p=void 0;case 13:return p=l.next(),void(t.next=16);case 16:if(!p.done){t.next=13;break}case 17:t.next=7;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(5),u.e(t.t0);case 24:return t.prev=24,u.f(),t.finish(24);case 27:return t.abrupt("return");case 28:case"end":return t.stop()}}),t,this,[[5,21,24,27]])}))},{key:"getLength",value:function(){return this.len}}]),n}(v.a),X=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o){var i;Object(r.a)(this,n),(i=e.call(this,t)).conditions=void 0,i.blocks=void 0,i.len=void 0,i.conditions=a,i.blocks=o,i.len=0;var u,c=Object(y.a)(o);try{for(c.s();!(u=c.n()).done;){var s=u.value;i.len+=s.getLength()}}catch(l){c.e(l)}finally{c.f()}return i}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){var n,a,o,i,u,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new I(this.id,this.conditions),n.evalBlock(e)){t.next=5;break}return t.abrupt("return");case 5:a=Object(y.a)(this.blocks),t.prev=6,a.s();case 8:if((o=a.n()).done){t.next=20;break}if((i=o.value)instanceof v.a){t.next=12;break}throw new V.a("Loop body must be void");case 12:u=i.evalBlock(e),r=void 0;case 14:return r=u.next(),void(t.next=17);case 17:if(!r.done){t.next=14;break}case 18:t.next=8;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),a.e(t.t0);case 25:return t.prev=25,a.f(),t.finish(25);case 28:t.next=0;break;case 30:case"end":return t.stop()}}),t,this,[[6,22,25,28]])}))},{key:"getLength",value:function(){return this.len}}]),n}(v.a),F=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).value=void 0,o.value=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){return this.value}}]),n}(m.a),P=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){return Object(r.a)(this,n),e.call(this,t,a,[new F(t,[])])}return n}(M),H=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o){var i;return Object(r.a)(this,n),(i=e.call(this,t)).index=void 0,i.arrName=void 0,i.arrName=a,i.index=o[0],i}return Object(s.a)(n,[{key:"evalBlock",value:function(t){var e=t.get(this.arrName);if(null==e)throw new h.a("Array does not exist",this.id);var n=Number(this.index.evalBlock(t));if(isNaN(n))throw new h.a("Index is not a number",this.id);var a=e[n];if(null==a)throw new h.a("Nothing at index ".concat(n),this.id);return a}}]),n}(m.a),W=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a,o){var i;return Object(r.a)(this,n),(i=e.call(this,t)).arrName=void 0,i.index=void 0,i.value=void 0,i.arrName=a,i.index=o[0],i.value=o[1],i}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){var n,a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.value.evalBlock(this.value.evalBlock(e)),null!=(a=e.get(this.arrName))){t.next=4;break}throw new h.a("Array does not exist",this.id);case 4:if(o=Number(this.index.evalBlock(e)),!isNaN(o)){t.next=7;break}throw new h.a("Index is not a number",this.id);case 7:return a[o]=n,e.set(this.arrName,a),void(t.next=11);case 11:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),J=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).varName=void 0,o.varName=a,o}return Object(s.a)(n,[{key:"evalBlock",value:c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.has(this.varName)&&e.delete(this.varName),void(t.next=3);case 3:case"end":return t.stop()}}),t,this)}))}]),n}(v.a),U=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t,a){var o;return Object(r.a)(this,n),(o=e.call(this,t)).varName=void 0,o.varName=a,o}return Object(s.a)(n,[{key:"evalBlock",value:function(t){if(this.varName.includes("$")||this.varName.includes("&"))throw new h.a("Variable name contains illegal character",this.id);if(!t.has(this.varName))throw new h.a("Variable "+this.varName+" does not exist",this.id);return t.get(this.varName)}}]),n}(m.a);function z(t,e){for(var n,u,c,r,s,l=arguments.length,p=new Array(l>2?l-2:0),d=2;d<l;d++)p[d-2]=arguments[d];switch(e){case a.a.CLB:return n=p[0],new b(t,n);case a.a.SUM:return n=p[0],new C(t,n);case a.a.PROD:return n=p[0],new R(t,n);case a.a.SUBTRACT:return n=p[0],new B(t,n);case a.a.MOD:return n=p[0],new w(t,n);case a.a.EXP:return n=p[0],new x(t,n);case a.a.DIV:return n=p[0],new T(t,n);case a.a.CONST:return n=p[0],new F(t,n);case a.a.VAR_ASSIGN:return n=p[0],u=p[1],new M(t,n,u);case a.a.VAR_RETRIEVE:return n=p[0],new U(t,n);case a.a.DELETE:return n=p[0],new J(t,n);case a.a.TERNARY:return n=p[0],new A(t,n);case a.a.AND:return n=p[0],new I(t,n);case a.a.OR:return n=p[0],new E(t,n);case a.a.NOT:return n=p[0],new S(t,n);case a.a.EQ:return n=p[0],new j(t,n);case a.a.GEQ:return n=p[0],new k(t,n);case a.a.GT:return n=p[0],new O(t,n);case a.a.LEQ:return n=p[0],new N(t,n);case a.a.LT:return n=p[0],new g(t,n);case a.a.WHILE:var h=Object(o.a)(p[0],2);return n=h[0],u=h[1],new X(t,n,u);case a.a.IF:console.log(p);var v=Object(o.a)(p[0],3);return n=v[0],u=v[1],c=v[2],console.log(n),console.log(u),console.log(c),new G(t,n,u,c);case a.a.FOR:return n=p[0],u=p[1],c=p[2],r=p[3],s=p[4],new Y(t,n,u,c,r,s);case a.a.MAKE_SHAPE:return n=p[0],u=p[1],c=p[2],new _.a(t,n,u,c);case a.a.MOVE_SHAPE:return n=p[0],new D.c(t,n);case a.a.SCALE_SHAPE:return n=p[0],new D.e(t,n);case a.a.ROTATE_SHAPE:return n=p[0],new D.d(t,n);case a.a.GET_SHAPE:return n=p[0],new L.a(t,n);case a.a.JOY_X:return n=p[0],new i.JoyXStatusBlock(t,n);case a.a.JOY_Y:return n=p[0],new i.JoyYStatusBlock(t,n);case a.a.BTN_STATUS:return n=p[0],new i.ButtonStatusBlock(t,n);case a.a.ARR_CREATE:return n=p[0],new P(t,n);case a.a.ARR_SET_IX:return n=p[0],u=p[1],new W(t,n,u);case a.a.ARR_GET_IX:return n=p[0],u=p[1],new H(t,n,u);case a.a.MAKE_CONTROL_ELEM:return n=p[0],u=p[1],c=p[2],new f(t,n,u,c);case a.a.GET_X:return n=p[0],new D.a(t,n);case a.a.GET_Y:return n=p[0],new D.b(t,n);default:throw new EvalError("Entered BlockType is not yet supported in BlockFactory")}}},73:function(t,e,n){"use strict";var a=n(299);n.o(a,"FunctionNode")&&n.d(e,"FunctionNode",(function(){return a.FunctionNode})),n.o(a,"IfNode")&&n.d(e,"IfNode",(function(){return a.IfNode})),n.o(a,"InputNode")&&n.d(e,"InputNode",(function(){return a.InputNode})),n.o(a,"OutputNode")&&n.d(e,"OutputNode",(function(){return a.OutputNode})),n.o(a,"WhileNode")&&n.d(e,"WhileNode",(function(){return a.WhileNode}));var o=n(300);n.d(e,"FunctionNode",(function(){return o.a}));n(119);var i=n(301);n.d(e,"IfNode",(function(){return i.a}));var u=n(120);n.d(e,"InputNode",(function(){return u.a}));var c=n(302);n.o(c,"OutputNode")&&n.d(e,"OutputNode",(function(){return c.OutputNode})),n.o(c,"WhileNode")&&n.d(e,"WhileNode",(function(){return c.WhileNode}));var r=n(68);n.d(e,"OutputNode",(function(){return r.a}));var s=n(303);n.d(e,"WhileNode",(function(){return s.a}))}},[[642,1,2]]]);
//# sourceMappingURL=main.4c71490f.chunk.js.map